#!/usr/bin/env __run
tmpdir=$(mktemp -d)
echo $tmpdir
for f in ./test/bench/*; do
	echo "======= $f ======="
	name="$(basename "$f")"
	@bundle-bench $f > $tmpdir/$name.js
	echo "---- Peanut (node) ----"
	node $tmpdir/$name.js
	echo
	#echo  "---- Peanut (bun) ----"
	#bun $tmpdir/$name.js
	#echo
	echo "---- SWI ----"
	swipl -l "$f" -g 'time(main)' -g halt
	echo
	echo
done
